(this["webpackJsonpdevinhouse-semanas_6_e_7-projeto_2"]=this["webpackJsonpdevinhouse-semanas_6_e_7-projeto_2"]||[]).push([[0],{160:function(e,t,c){},166:function(e,t,c){},265:function(e,t,c){},266:function(e,t,c){},267:function(e,t,c){},287:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(0),s=c(14),r=c.n(s),o=c(37),i=c(18),l=(c(88),c(160),function(){return new URLSearchParams(Object(i.g)().search).get("q")||""}),d={numero:"",entrada:(new Date).toLocaleDateString("pt-BR"),interessados:[],descricao:"",assunto:""},u=c(316),j=c(324),b=c(320),h=c(321),O=c(139),p=c.n(O),x=function(e){var t=e.value,c=e.onChange;return Object(n.jsx)("div",{id:"inputBusca",children:Object(n.jsx)(u.a,{children:Object(n.jsx)(j.a,{variant:"outlined",size:"small",fullWidth:!0,autoFocus:!0,value:t,onChange:c,placeholder:"Pesquise por uma informa\xe7\xe3o do processo...",InputProps:{endAdornment:Object(n.jsx)(b.a,{children:Object(n.jsx)(h.a,{edge:"end",children:Object(n.jsx)(p.a,{})})})}})})})},f=c(289),m=function(e){var t=e.pagInicial,c=Object(i.f)(),a=l();return Object(n.jsxs)("div",{className:"busca",children:[Object(n.jsx)(f.a,{variant:t?"h5":"subtitle2",className:"title ".concat(t?"primary-color":""),children:"Busca de processos"}),Object(n.jsx)(x,{value:a,onChange:function(e){var t=e.target.value;t?c.push("/busca?q=".concat(t)):c.push("/")}})]})},v=c(322),y=function(e){var t="/processo";return e.pagInicial?Object(n.jsx)("div",{className:"criar-novo",children:Object(n.jsxs)(f.a,{children:["Voc\xea pode criar um novo processo"," ",Object(n.jsx)(o.b,{to:t,className:"primary-color",children:"clicando aqui"}),"."]})}):Object(n.jsx)(v.a,{id:"btnNovo",className:"button-label",variant:"contained",style:{backgroundColor:"#ffffff",padding:"8px 32px"},component:o.b,to:t,children:"NOVO"})},N=function(){return Object(n.jsxs)("div",{className:"pag-inicial",children:[Object(n.jsx)(m,{pagInicial:!0}),Object(n.jsx)(y,{pagInicial:!0})]})},g=(c(166),c(29)),w=c(34),k=function(e){return e.processos},C=c(33),S=function(e){var t=e.arrayHelpers,c=e.errorInteressados,s=e.touched,r=e.setFieldTouched,o=Object(a.useState)(""),i=Object(C.a)(o,2),l=i[0],d=i[1];return Object(n.jsxs)("div",{className:"adicionar-interessado",children:[Object(n.jsx)(w.a,{component:j.a,fullWidth:!0,label:"Novo Interessado",error:!(!s.interessados||!c),helperText:s.interessados&&c?c:"",value:l,onBlur:function(){return r("interessados")},onChange:function(e){return d(e.target.value)}}),Object(n.jsx)(v.a,{type:"button",variant:"contained",onClick:function(){l?(t.push(l),d("")):alert("Preencha o nome do novo interessado.")},style:{background:"#c4c4c4",color:"#ffffff"},size:"small",className:"button-label",children:"ADICIONAR"})]})},A=c(325),I=c(84),R=c.n(I),D=c(66),E=function(e){var t=e.adicionar,c=e.voltar,a=Object(g.c)(k)||{},s=D.b().shape({assunto:D.c().required("Preencha o assunto."),interessados:D.a().min(1,"Adicione ao menos uma pessoa."),descricao:D.c().required("Preencha a descri\xe7\xe3o.")});return Object(n.jsx)("div",{className:"form-cadastro",children:Object(n.jsx)(w.d,{enableReinitialize:!0,validadeOnMount:!0,validationSchema:s,initialValues:a.id?a:d,onSubmit:function(e){t(e)},children:function(e){var t=e.values,s=e.touched,r=e.errors,o=e.setFieldValue,i=e.setFieldTouched;return Object(n.jsxs)(w.c,{children:[Object(n.jsxs)("header",{children:[Object(n.jsx)(f.a,{variant:"subtitle1",className:"title",children:a.id?"Editar processo":"Cadastro de processo"}),Object(n.jsx)(h.a,{onClick:c,children:Object(n.jsx)(R.a,{style:{width:"1.5em",height:"1.5em"}})})]}),Object(n.jsxs)("div",{className:"form",children:[a.id&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(w.a,{component:j.a,fullWidth:!0,label:"N\xfamero",name:"numero",value:t.numero,disabled:!0}),Object(n.jsx)(w.a,{component:j.a,fullWidth:!0,label:"Data",name:"entrada",value:t.entrada,disabled:!0})]}),Object(n.jsx)(w.a,{component:j.a,fullWidth:!0,label:"Assunto",name:"assunto",error:!(!s.assunto||!r.assunto),helperText:s.assunto&&r.assunto?r.assunto:"",value:t.assunto,onBlur:function(){return i("assunto")},onChange:function(e){return o("assunto",e.target.value)},className:"campo-form"}),Object(n.jsx)(A.a,{dense:!0,children:t.interessados&&t.interessados.length>0?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{variant:"body2",children:"Interessados"}),t.interessados.map((function(e,t){return Object(n.jsx)(f.a,{variant:"body1",children:e},t)}))]}):null}),Object(n.jsx)(w.b,{name:"interessados",type:"text",className:"campo-form",render:function(e){return Object(n.jsx)(S,{arrayHelpers:e,errorInteressados:r.interessados,touched:s,setFieldTouched:i})}}),Object(n.jsx)(w.a,{component:j.a,fullWidth:!0,label:"Descri\xe7\xe3o",name:"descricao",helperText:s.descricao&&r.descricao?r.descricao:"",error:!(!s.descricao||!r.descricao),multiline:!0,rows:3,rowsMax:3,value:t.descricao,onBlur:function(){return i("descricao")},onChange:function(e){return o("descricao",e.target.value)},className:"campo-form"})]}),Object(n.jsx)("footer",{children:Object(n.jsx)(v.a,{type:"submit",variant:"contained",color:"primary",size:"small",disabled:!!a.id,children:"SALVAR"})})]})}})})},_="BUSCAR",B="BUSCAR_ID",P="BUSCAR_PROCESSO",q="BUSCAR_PROCESSO_ID",T="ADICIONAR_PROCESSO",F="ATUALIZAR_PROCESSO",V="REMOVER_PROCESSO",U=function(e){return{type:P,payload:e}},W=function(){var e=Object(g.b)(),t=Object(i.f)(),c=Object(i.h)().id;Object(a.useEffect)((function(){e(c?function(e){return{type:q,payload:e}}(c):U(""))}),[e,c]);var s=function(){t.push("/")};return Object(n.jsx)("div",{className:"pag-cadastro",children:Object(n.jsx)(E,{adicionar:function(t){t.id?e(function(e){return{type:F,payload:e}}(t)):e(function(e){return{type:T,payload:e}}(t)),s()},voltar:s})})},z=(c(265),c(266),c(267),c(326)),L=function(e){var t,c=e.idAtual,a=e.editar,s=e.remover,r=e.fechar,o=Object(g.c)((t=c,function(e){return e.processos.find((function(e){return e.id===t}))}));return Object(n.jsx)("div",{className:"detalhes",children:Object(n.jsxs)(u.a,{id:"paperDetalhes",elevation:3,square:!0,children:[Object(n.jsxs)("header",{children:[Object(n.jsx)("table",{children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{rowSpan:"4",id:"avatarDetalhes",children:Object(n.jsx)(z.a,{className:"avatar",variant:"square"})}),Object(n.jsx)("td",{children:Object(n.jsx)(f.a,{variant:"subtitle2",className:"subtitle",children:"Processo"})}),Object(n.jsx)("td",{children:Object(n.jsx)(f.a,{variant:"subtitle2",className:"subtitle",children:"Data"})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:o.numero}),Object(n.jsx)("td",{children:o.entrada})]}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:"2",children:Object(n.jsx)(f.a,{variant:"subtitle2",className:"subtitle",children:"Assunto"})})}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:"2",children:o.assunto})})]})}),Object(n.jsx)(h.a,{onClick:r,children:Object(n.jsx)(R.a,{style:{width:"1.5em",height:"1.5em"}})})]}),Object(n.jsxs)("div",{className:"conteudo",children:[Object(n.jsx)("div",{className:"interessados",children:Object(n.jsxs)("ul",{type:"none",children:[Object(n.jsx)(f.a,{variant:"subtitle2",className:"subtitle",children:"Interessados"}),o.interessados.map((function(e,t){return Object(n.jsx)("li",{children:e},t)}))]})}),Object(n.jsxs)("div",{className:"descricao",children:[Object(n.jsx)(f.a,{variant:"subtitle2",className:"subtitle",children:"Descri\xe7\xe3o"}),o.descricao]})]}),Object(n.jsxs)("footer",{children:[Object(n.jsx)(v.a,{className:"button-label",type:"button",variant:"contained",style:{backgroundColor:"#ffffff",color:"#757575",padding:"4px 24px"},onClick:s,children:"REMOVER"}),Object(n.jsx)(v.a,{className:"button-label",type:"button",variant:"contained",style:{backgroundColor:"#ffffff",color:"#005b95",padding:"4px 24px"},onClick:a,children:"EDITAR"})]})]})})},M=function(e){var t=e.processo,c=e.onClick,a=e.idAtual,s=a===t.id?"2px #005b95 solid":"1px #c4c4c4 solid",r=a===t.id?"primary-color":"";return Object(n.jsx)("div",{className:"card-processo",onClick:function(){return c(t)},children:Object(n.jsx)(u.a,{elevation:3,square:!0,style:{padding:"12px",border:s},children:a?Object(n.jsx)("table",{children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:Object(n.jsx)(f.a,{className:"subtitle ".concat(r),children:"N\xfamero"})}),Object(n.jsx)("th",{children:Object(n.jsx)(f.a,{className:"subtitle ".concat(r),children:"Assunto"})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("span",{className:"".concat(r),children:t.numero})}),Object(n.jsx)("td",{children:Object(n.jsx)("span",{className:"".concat(r),children:t.assunto})})]}),Object(n.jsx)("tr",{children:Object(n.jsx)("th",{colSpan:"2",children:Object(n.jsx)(f.a,{className:"subtitle ".concat(r),children:"Interessado"})})}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:"2",children:Object(n.jsx)("span",{className:"".concat(r),children:t.interessados[0]})})})]})}):Object(n.jsx)("table",{children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{id:"avatarListagem",rowSpan:"2",children:Object(n.jsx)(z.a,{className:"avatar",variant:"square"})}),Object(n.jsx)("th",{children:Object(n.jsx)(f.a,{className:"subtitle",children:"N\xfamero"})}),Object(n.jsx)("th",{children:Object(n.jsx)(f.a,{className:"subtitle",children:"Assunto"})}),Object(n.jsx)("th",{children:Object(n.jsx)(f.a,{className:"subtitle",children:"Interessado"})}),Object(n.jsx)("th",{children:Object(n.jsx)(f.a,{className:"subtitle",children:"Descri\xe7\xe3o"})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t.numero}),Object(n.jsx)("td",{children:t.assunto}),Object(n.jsx)("td",{children:t.interessados[0]}),Object(n.jsx)("td",{children:t.descricao})]})]})})})})},H=function(e){var t=e.idAtual,c=e.processos,a=e.onClick;return Object(n.jsx)("div",{className:"listagem",children:c?0===c.length?Object(n.jsx)(f.a,{variant:"subtitle1",style:{},children:"Nenhum processo encontrado."}):c.length>0?c.map((function(e,c){return Object(n.jsx)(M,{processo:e,onClick:a,idAtual:t},c)})):null:null})},J=c(146),Z=c.n(J),G=function(){return Object(n.jsx)("div",{id:"loadingBusca",children:Object(n.jsx)(Z.a,{type:"spinningBubbles",color:"#757575",height:128,width:128})})},K=[{path:"/busca",component:function(){var e=Object(g.b)(),t=Object(i.f)(),c=l(),s=Object(g.c)(k),r=Object(a.useState)(""),o=Object(C.a)(r,2),d=o[0],u=o[1],j=Object(a.useState)(!0),b=Object(C.a)(j,2),h=b[0],O=b[1];Object(a.useEffect)((function(){return setTimeout((function(){O(!1)}),1500)}),[]),Object(a.useEffect)((function(){c&&e(U(c))}),[e,c]);var p=function(){u("")};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"pag-resultado",children:[Object(n.jsxs)("header",{children:[Object(n.jsx)(m,{pagInicial:!1}),Object(n.jsx)(y,{pagInicial:!1})]}),h?Object(n.jsx)(G,{}):Object(n.jsxs)("div",{className:"conteudo",children:[Object(n.jsx)(H,{idAtual:d,processos:s,onClick:function(e){e.id===d?u(""):u(e.id)}}),d&&Object(n.jsx)(L,{idAtual:d,editar:function(){t.push("/processo/".concat(d)),p()},remover:function(){e({type:V,payload:d}),p(),alert("O processo foi removido com sucesso.")},fechar:p})]})]})})}},{exact:!0,path:"/processo",component:W},{path:"/processo/:id",component:W},{path:"/",component:N}],Q=c(49),X=c(147),Y=c(67),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case B:return Object(Y.a)(Object(Y.a)({},e),{},{processos:t.payload});default:return e}},ee=c(17),te=c.n(ee),ce=c(24),ne=c(12),ae=c(13),se=c(65),re=c.n(se),oe="http://localhost:3002/processo",ie=new(function(){function e(){Object(ne.a)(this,e)}return Object(ae.a)(e,[{key:"adicionar",value:function(e){return re()({method:"post",url:oe,data:{descricao:e.descricao,assunto:e.assunto,interessados:e.interessados}}).catch((function(e){throw e}))}},{key:"buscar",value:function(e){var t=e?"".concat(oe,"?q=").concat(e):oe;return re.a.get(t).then((function(e){return e.data})).catch((function(e){throw e}))}},{key:"buscarID",value:function(e){return re.a.get("".concat(oe,"/").concat(e)).then((function(e){return e.data})).catch((function(e){throw e}))}},{key:"remover",value:function(e){return re.a.delete("".concat(oe,"/").concat(e)).catch((function(e){throw e}))}}]),e}()),le=te.a.mark(ve),de=te.a.mark(ye),ue=te.a.mark(Ne),je=te.a.mark(ge),be=te.a.mark(we),he=te.a.mark(ke),Oe=te.a.mark(Ce),pe=te.a.mark(Se),xe=te.a.mark(Ae),fe=te.a.mark(Ie),me=te.a.mark(Re);function ve(e){var t;return te.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(ce.b)(ie.buscar,e.payload);case 2:return t=c.sent,c.next=5,Object(ce.c)({type:_,payload:t});case 5:case"end":return c.stop()}}),le)}function ye(e){var t;return te.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(ce.b)(ie.buscarID,e.payload);case 2:return t=c.sent,c.next=5,Object(ce.c)({type:B,payload:t});case 5:case"end":return c.stop()}}),de)}function Ne(e){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ce.b)(ie.adicionar,e.payload);case 2:case"end":return t.stop()}}),ue)}function ge(e){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ce.b)(ie.atualizar,e.payload);case 2:case"end":return t.stop()}}),je)}function we(e){var t;return te.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(ce.b)(ie.remover,e.payload);case 2:return c.next=4,Object(ce.b)(ie.buscar,"");case 4:return t=c.sent,c.next=7,Object(ce.c)({type:_,payload:t});case 7:case"end":return c.stop()}}),be)}function ke(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.e)(P,ve);case 2:case"end":return e.stop()}}),he)}function Ce(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.e)(q,ye);case 2:case"end":return e.stop()}}),Oe)}function Se(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.d)(T,Ne);case 2:case"end":return e.stop()}}),pe)}function Ae(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.d)(F,ge);case 2:case"end":return e.stop()}}),xe)}function Ie(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.d)(V,we);case 2:case"end":return e.stop()}}),fe)}function Re(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ce.a)([ke(),Ce(),Se(),Ae(),Ie()]);case 2:case"end":return e.stop()}}),me)}var De=Object(X.a)(),Ee=Object(Q.d)($,Object(Q.a)(De));De.run(Re);var _e=Ee;c(323),c(39);r.a.render(Object(n.jsx)(g.a,{store:_e,children:Object(n.jsx)(o.a,{basename:"/devinhouse",children:Object(n.jsx)(i.c,{children:K.map((function(e){return Object(n.jsx)(i.a,{path:e.path,component:e.component,exact:e.exact},e.path)}))})})}),document.getElementById("root"))},88:function(e,t,c){}},[[287,1,2]]]);
//# sourceMappingURL=main.a4df0b03.chunk.js.map